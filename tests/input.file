.equ tim_cfg, 0xFFFFFF10
.equ init_sp, 0xFFFFFF00
.extern handler
.section my_code_main
ld $handler, %r1
csrwr %r1, %handler
ld $0x1, %r1
wait:
ld $5, %r2
bne %r1, %r2, wait
xchg %r1, %r12
halt
.global my_counter
.section my_data
csrwr %r1, %handler
my_counter:
.word 0
ld $handler, %r1
csrwr %r1, %handler
ld $handler, %r1
jmp 5
csrwr %r1, %handler
.section my_data2
xchg %r1, %r12
xchg %r1, %r12
xchg %r1, %r12
xchg %r1, %r12
word 5, my_counter
jmp ideG
jmp 7
jmp 5
ideG:
jmp 10
.end